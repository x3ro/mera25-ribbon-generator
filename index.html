<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>MERA25 Deutschland Ribbon Generator</title>
  
  <!-- <meta name="description" content="Ini adalah situs web tempat Anda dapat menambahkan foto ke dalam bingkai.">
  <meta name="author" content="Ferry Ayunda and Github contributors">
  <meta name="generator" content="Twibbon 0.88.1">
  <link rel="canonical" href="https://bungferry.github.io/twibbonize/"> -->
  
  
  
  <!-- Bootstrap core CSS -->
  <link href="css/main.css" rel="stylesheet">
  
  
  <!-- Favicons -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta name="theme-color" content="#669ada">
  
  
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    
    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  
  <style type="text/css">
    button, label, canvas, div {
      box-sizing: border-box;
    }
    
    body {
      font-family: monospace;
      font-size: 14px;
    }
    
    #input-file {
      position: absolute;
      left: -10000px;
    }
    
    #preview {
      border: 1px solid #eee;
      margin: 10px 0;
      background: #eee;
      width: 500px;
    }
    
    .frame-option {
      padding: 10px;
      line-height: 0;
      width: 25%;
      background: transparent;
      border: 0;
    }
    
    .frame-option:focus {
      border: 1px solid #669ada;
      outline: none;
      position: relative;
      padding: 9px;
      border-radius: 10px;
    }
    
    .frame-option img {
      border-radius: 5px;
      background-image: url(assets/profile-circle.svg);
      background-size: 100% 100%;
      pointer-events: none;
    }
    
    .frame-option:not(:first-child) {
      margin-left: -1px;
    }
    
    .wrapper {
      width: 100%;
      padding: 10px;
      max-width: 360px;
      min-width: 240px;
      margin: 0 auto;
    }
    
    .action {
      font-size: 13px;
      text-decoration: none;
      cursor: pointer;
      color: #669ada;
      padding: 10px 20px;
      border-radius: 50px;
      border: 1px solid;
      display: block;
      text-align: center;
    }
    
    .action[href=''] {
      display: none;
    }
    
    .buttons {
      flex-wrap: wrap;
      display: flex;
      margin-bottom: 10px;
    }
  </style>
  
</head>
<body>
  
  <main>
    <div class="container py-4">

      <header class="pb-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
          <!-- <img src="img/logo.svg" alt="Logo" width="50" height="40">       -->
          <span class="fs-4">MERA25 Deutschland Ribbon Generator</span>
        </a>
      </header>
      
      <div class="container">
        
        <div class="wrapper">
          <label class="action">
            <input type="file" id="input-file" accept="image/*">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
              <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
              <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
            </svg> Select Photo
          </label>
          
          <canvas id="preview" class="img-thumbnail" width="1500" height="1500" title="Preview"></canvas><br>
          
          <div class="buttons">
            <button type="button" class="frame-option">
              <img src="frame-01.svg" alt="Frame option 1" width="100%">
            </button>
            <button type="button" class="frame-option">
              <img src="frame-02.svg" alt="Frame option 2" width="100%">
            </button>
            <button type="button" class="frame-option">
              <img src="frame-03.svg" alt="Frame option 3" width="100%">
            </button>
            <button type="button" class="frame-option">
              <img src="frame-04.svg" alt="Frame option 4" width="100%">
            </button>
          </div>
          <a download="framed-avatar.png" class="action" id="download-link" href="">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
              <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
              <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
            </svg> Download</a>
            <img src="assets/profile-circle.svg" alt="" width="1" id="placeholder" hidden>
          </div>
            
        </div>
        <footer class="pt-3 mt-4 text-muted border-top">
          Based on an MIT-licensed tool by <a href="https://github.com/bungferry" class="text-decoration-none">Ferry Ayunda</a>
        </footer>
      </div>
    </main>
    
    
    <script type="text/javascript">
      const input = document.getElementById('input-file')
      const canvas = document.getElementById('preview')
      const context = canvas.getContext('2d')
      const ph = document.getElementById('placeholder')
      const dlLink = document.getElementById('download-link')
      dlLink.hidden = true
      
      input.addEventListener('change', drawImageFromInput)
      const CANVAS_SIZE = 1500;


      function drawImageFromInput (callback) {
        context.clearRect(0, 0, CANVAS_SIZE, CANVAS_SIZE)
        if (input.files.length === 0) {
          context.drawImage(ph, 0, 0, CANVAS_SIZE, CANVAS_SIZE)
          if (typeof callback === 'function') callback()
        } else {
          const img = new Image()
          img.addEventListener('load', function() {
            context.drawImage(img, 0, 0, CANVAS_SIZE, CANVAS_SIZE)
            for(var optionImage of document.querySelectorAll('.frame-option img')) {
              optionImage.style.backgroundImage = `url("${img.src}")`
            }
            
            if (typeof callback === 'function') callback()
          })
          img.src = URL.createObjectURL(input.files[0])
        }
        
      }
      
      function prepareDownloadLink () {
        if (input.files[0]) {
          dlLink.setAttribute('download', input.files[0].name.replace(/\.\w+$/, '-framed.png') ) }
          dlLink.hidden = false
          dlLink.href = canvas.toDataURL()
        }
        
        for (var button of document.querySelectorAll('.frame-option')) {
          button.addEventListener('click', function (event) {
            drawImageFromInput(function () {
              const image = event.target.querySelector('img')
              context.drawImage(image, 0, 0, CANVAS_SIZE, CANVAS_SIZE)
              prepareDownloadLink()
            })
          })
        }
        
        placeholder.onload = drawImageFromInput
      </script>
      
    </body>
    </html>
    